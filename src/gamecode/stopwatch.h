//////////////////////////////////////////////////////////////////////////////////////////
// stopwatch.h
//
// Author: David Schwartz
//////////////////////////////////////////////////////////////////////////////////////////
// THIS CODE IS PROPRIETARY PROPERTY OF WILLIAMS ENTERTAINMENT.
//
// The contents of this file may not be disclosed to third
// parties, copied or duplicated in any form, in whole or in part,
// without the prior written permission of Williams Entertainment.
//////////////////////////////////////////////////////////////////////////////////////////

#ifndef STOPWATCH_H
#define STOPWATCH_H 1


//========================================================================================
// Public definitions:

#define STOPW_STARTED		0x00000001
#define STOPW_NEED2RESET	0x00000002

struct stopwatch {
	OSTime		start_ticks;
	OSTime		total_ticks;
	OSTime		pause_ticks;
	u32			num_samples;
	u32			flags;
};


//========================================================================================
// Public functions:

//////////////////////////////////////////////////////////////////////////////////////////
// stopwatch_reset - resets the specified stopwatch to zero.
//////////////////////////////////////////////////////////////////////////////////////////
extern void stopwatch_reset( struct stopwatch *sw );


//////////////////////////////////////////////////////////////////////////////////////////
// stopwatch_start - starts the specified stopwatch.
//////////////////////////////////////////////////////////////////////////////////////////
extern void stopwatch_start( struct stopwatch *sw );


//////////////////////////////////////////////////////////////////////////////////////////
// stopwatch_stop - stops the stopwatch and adds the delta time since it was started.
//////////////////////////////////////////////////////////////////////////////////////////
extern void stopwatch_stop( struct stopwatch *sw );


//////////////////////////////////////////////////////////////////////////////////////////
// stopwatch_pause - pauses the stopwatch. stopwatch_resume must be called next.
//////////////////////////////////////////////////////////////////////////////////////////
extern void stopwatch_pause( struct stopwatch *sw );


//////////////////////////////////////////////////////////////////////////////////////////
// stopwatch_resume - resumes a paused stopwatch.
//////////////////////////////////////////////////////////////////////////////////////////
extern void stopwatch_resume( struct stopwatch *sw );


//////////////////////////////////////////////////////////////////////////////////////////
// stopwatch_val - returns the specified stopwatch's time in seconds (or 0 if none).
//////////////////////////////////////////////////////////////////////////////////////////
extern double stopwatch_val( struct stopwatch *sw );


#endif
